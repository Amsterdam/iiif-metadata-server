[uwsgi]
# Core uWSGI behavior
strict = true
master = true
enable-threads = true
vacuum = true
need-app = true

# Process and thread configuration
processes = 1
threads = 4

# Application entry point
http = :8000
wsgi-file = main/wsgi.py
static-map = /iiif-metadata/static=/app/static/

# Request buffering and size limits
buffer-size = 32768
post-buffering = 8192

# Timeouts and request limits
harakiri = 30
harakiri-verbose = true

# Static file offloading
offload-threads = 1

# Graceful shutdown and signal handling
die-on-term = true

# Disable logging to the console
disable-logging = true
